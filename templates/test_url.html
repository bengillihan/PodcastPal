{% extends "base.html" %}

{% block content %}
<div class="container py-4">
    <h2>Audio URL Formatter</h2>
    <p class="lead">Paste your Google Drive or Dropbox URL below to get the correct format for audio previews and RSS feeds.</p>
    
    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">Supported URL Formats:</h5>
            <p class="mb-2"><strong>Google Drive:</strong></p>
            <code>https://drive.google.com/file/d/YOUR_FILE_ID/view?usp=sharing</code>
            <p class="mt-3 mb-2"><strong>Dropbox:</strong></p>
            <code>https://www.dropbox.com/s/YOUR_FILE_PATH/file.mp3?dl=0</code>
        </div>
    </div>

    <form method="POST" class="mb-4">
        <div class="mb-3">
            <label for="url" class="form-label">Audio File URL</label>
            <input type="url" class="form-control" id="url" name="url" 
                   value="{{ original_url if original_url else '' }}"
                   placeholder="Paste your Google Drive or Dropbox URL here" required>
        </div>
        <button type="submit" class="btn btn-primary">Format URL</button>
    </form>

    {% if reformatted_url %}
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Results</h5>
            <div class="mb-3">
                <label class="form-label">Original URL:</label>
                <input type="text" class="form-control" value="{{ original_url }}" readonly>
            </div>
            <div>
                <label class="form-label">Reformatted URL (Use this in your podcast):</label>
                <input type="text" class="form-control" value="{{ reformatted_url }}" readonly>
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
